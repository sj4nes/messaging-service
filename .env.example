# Example environment configuration for messaging-service

# The port the HTTP server binds to when running locally
PORT=8080

# The health endpoint path
HEALTH_PATH=/healthz

# Logging level (e.g., trace, debug, info, warn, error)
LOG_LEVEL=info

# Database connection for local development via docker-compose mapping
# Host port 55432 maps to container port 5432
DATABASE_URL=postgres://messaging_user:messaging_password@localhost:55432/messaging_service

# --- Security Hardening Toggles (Feature 010) ---
# Authentication session expiry in minutes
AUTH_SESSION_EXPIRY_MIN=30
# Rate limit per IP per minute
API_RATE_LIMIT_PER_IP_PER_MIN=120
# Rate limit per sender per minute
API_RATE_LIMIT_PER_SENDER_PER_MIN=60
# Argon2 hashing parameters
ARGON2_MEMORY_MB=64
ARGON2_TIME_COST=3
ARGON2_PARALLELISM=1
# Enable security headers middleware (true/false)
SECURITY_HEADERS_ENABLED=true
# Content Security Policy (basic default - adjust in production)
CSP_DEFAULT_SRC="'self'"
# SSRF allowlist (comma-separated hostnames)
SSRF_ALLOWLIST=api.example.com,security-updates.example.com
# Vault address (prod only; local dev may leave unset)
VAULT_ADDR=http://localhost:8200
# Vault token (DO NOT use in production .env; for local mock only)
VAULT_DEV_TOKEN=dev-token-placeholder
